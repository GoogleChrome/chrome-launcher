<!doctype html>
<!--
 * Copyright 2016 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
-->

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<title>So offline-ready. The most.</title>
<!--<link rel="manifest" href="/manifest.json">-->

<h1>
  Whenever you call me, I'll be there.
</h1>
<h2>
  Whenever you want me, I'll be there.
</h2>
<h3>
  Whenever you need me, I'll be there.
</h3>
<h4>
  I'll be arounddddd.
</h4>

<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/offline-ready-sw.js').then(function(registration) {
      console.log('service worker registration complete');

      registration.addEventListener('statechange',  e => {
        console.log('sw registration is now', e.target.state);
      });
    }).catch(function(e) {
      console.error('service worker is not so cool.', e);
      throw e;
    });
  }
</script>

<!--
Lighthouse will move on to the next thing at onload, however this will race with
the cache population in the serviceworker's install phase.
We use an image that takes 2-seconds to load to delay window onload. -->
<img src="icon-128.png?delay">
